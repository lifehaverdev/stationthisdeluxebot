/* ── Backdrop ───────────────────────────────── */
.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(11, 12, 13, 0.72);
  z-index: var(--z-modal);
  display: flex;
  align-items: center;
  justify-content: center;
  animation: fadeIn var(--dur-trans) var(--ease);
  backdrop-filter: blur(2px);
}

/* Grid remains faintly visible — feel of panel extension, not interruption */
.modal-overlay::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    repeating-linear-gradient(90deg, rgba(255,255,255,0.012) 0px, rgba(255,255,255,0.012) 1px, transparent 1px, transparent 32px),
    repeating-linear-gradient(0deg,  rgba(255,255,255,0.012) 0px, rgba(255,255,255,0.012) 1px, transparent 1px, transparent 32px);
  pointer-events: none;
}

/* ── Panel container ────────────────────────── */
.modal-container {
  position: relative;
  background: var(--surface-2);
  border: var(--border-width) solid var(--border);
  min-width: 360px;
  max-width: 560px;
  width: 100%;
  max-height: 80vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  animation: fadeUp var(--dur-trans) var(--ease);
}

/* Corner bracket indicators — top-left and bottom-right via pseudo */
.modal-container::before,
.modal-container::after {
  content: '';
  position: absolute;
  width: 12px;
  height: 12px;
  border-color: var(--border-hover);
  border-style: solid;
  pointer-events: none;
  z-index: 1;
}
.modal-container::before { top: -1px; left: -1px; border-width: 1px 0 0 1px; }
.modal-container::after  { bottom: -1px; right: -1px; border-width: 0 1px 1px 0; }

/* ── Modal header ───────────────────────────── */
.modal-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px var(--modal-padding);
  border-bottom: var(--border-width) solid var(--border);
  background: var(--surface-3);
  flex-shrink: 0;
}

.modal-title {
  font-family: var(--ff-condensed);
  font-size: var(--fs-sm);
  font-weight: var(--fw-medium);
  letter-spacing: var(--ls-widest);
  text-transform: uppercase;
  color: var(--text-primary);
}

.modal-close {
  background: none;
  border: var(--border-width) solid transparent;
  color: var(--text-label);
  cursor: pointer;
  font-size: 14px;
  width: 22px; height: 22px;
  display: flex; align-items: center; justify-content: center;
  font-family: var(--ff-mono);
  transition:
    color var(--dur-micro) var(--ease),
    border-color var(--dur-micro) var(--ease);
  padding: 0;
  flex-shrink: 0;
}
.modal-close:hover {
  color: var(--danger);
  border-color: var(--danger);
}

/* ── Modal body ─────────────────────────────── */
.modal-body {
  padding: var(--modal-padding);
  overflow-y: auto;
  flex: 1;
}

/* ── Modal footer ───────────────────────────── */
.modal-footer {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 8px;
  padding: 10px var(--modal-padding);
  border-top: var(--border-width) solid var(--border);
  background: var(--surface-2);
  flex-shrink: 0;
}

/* ── Shared button primitives ───────────────── */
.modal-btn {
  background: var(--surface-1);
  border: var(--border-width) solid var(--border);
  color: var(--text-secondary);
  font-family: var(--ff-condensed);
  font-size: var(--fs-xs);
  font-weight: var(--fw-medium);
  letter-spacing: var(--ls-widest);
  text-transform: uppercase;
  cursor: pointer;
  padding: 5px 14px;
  height: 28px;
  display: flex; align-items: center;
  transition:
    background  var(--dur-micro) var(--ease),
    color       var(--dur-micro) var(--ease),
    border-color var(--dur-micro) var(--ease);
}
.modal-btn:hover {
  background: var(--surface-2);
  color: var(--text-primary);
  border-color: var(--border-hover);
}

.modal-btn.primary {
  background: var(--accent-dim);
  border-color: var(--accent-border);
  color: var(--accent);
}
.modal-btn.primary:hover {
  background: rgba(0,223,200,0.2);
  border-color: var(--accent);
}

.modal-btn.danger {
  background: var(--danger-dim);
  border-color: var(--danger);
  color: var(--danger);
}
